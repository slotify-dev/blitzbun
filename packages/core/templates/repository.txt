import type { AppRegistry } from '@blitzbun/contracts';

import { BaseRepository } from '@blitzbun/core';
import { NodePgDatabase } from 'drizzle-orm/node-postgres';
import [[ repository ]] from '../models/[[ repositorySlug ]]';

export default class [[ repository ]]Repository<AR extends AppRegistry = AppRegistry> extends BaseRepository<typeof [[ repository ]], AR> {
  protected table = [[ repository ]];
  protected db: NodePgDatabase<AR['dbSchema']>;

  constructor() {
    super();
    this.db = this.container.resolve('db') as NodePgDatabase<AR['dbSchema']>;
  }
}
